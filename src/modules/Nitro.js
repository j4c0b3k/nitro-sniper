const a13_0x9023=['Unauthorized','channel','push','Unknown','389178GSmhWE','codeSuccess','userAgent','codeAlreadyRedeemed','fire','tokens','url','match','regex','splice','cooldown','\x20â€¢\x20Account:\x20','body','handleMessage','DMs','includes','snipedCode','redeemCodeURL','POST','472641LdpuIw','bucket','unpromisified','content','phin','exports','codeInvalid','max','guild','init','872500fgSmSM','user','redeemed\x20already','222370liCsZZ','99431AZSQQL','setHours','cache','client','Author:\x20','message','error','phinError','warn','alreadyRedeemedCode','success','17354REsjwK','author','4ZeaNfI','{\x22channel_id\x22:','replace','name','snipedBucket','subscription_plan','indexOf','critical','length','unknownResponse','698713eRvroQ','nitro'];const a13_0x3f85=function(_0x1f9f22,_0x13d14f){_0x1f9f22=_0x1f9f22-0x123;let _0x902357=a13_0x9023[_0x1f9f22];return _0x902357;};const a13_0x44e514=a13_0x3f85;(function(_0x258379,_0x580859){const _0x10e863=a13_0x3f85;while(!![]){try{const _0x2affe3=-parseInt(_0x10e863(0x150))+parseInt(_0x10e863(0x15d))+parseInt(_0x10e863(0x13d))+parseInt(_0x10e863(0x12b))+parseInt(_0x10e863(0x137))+parseInt(_0x10e863(0x12d))*parseInt(_0x10e863(0x15e))+-parseInt(_0x10e863(0x15a));if(_0x2affe3===_0x580859)break;else _0x258379['push'](_0x258379['shift']());}catch(_0x270433){_0x258379['push'](_0x258379['shift']());}}}(a13_0x9023,0x5cd26));const phin=require(a13_0x44e514(0x154))[a13_0x44e514(0x152)];module[a13_0x44e514(0x155)]=class Sniper{constructor(_0x1efe23){const _0x4e8c04=a13_0x44e514;this[_0x4e8c04(0x123)]=_0x1efe23,this['regex']={'gift':/(discord.gift|discord.com|discordapp.com\/gifts)\/\w{16,25}/gim,'url':/(discord\.gift\/|discord\.com\/gifts\/|discordapp\.com\/gifts\/)/gim},this['stats']={'invalid':0x0,'redeemed':0x0,'sniped':0x0},this[_0x4e8c04(0x147)]=null,this[_0x4e8c04(0x131)]=0x0,this[_0x4e8c04(0x151)]=settings[_0x4e8c04(0x138)][_0x4e8c04(0x157)],this[_0x4e8c04(0x160)]=[];}async[a13_0x44e514(0x159)](){const _0x475b42=a13_0x44e514;this[_0x475b42(0x123)]['prependListener'](_0x475b42(0x125),async _0xa0010=>{const _0x270695=_0x475b42;if(this[_0x270695(0x147)]&&this[_0x270695(0x147)]>new Date())return;this[_0x270695(0x147)]=null;let _0x5c9613=_0xa0010[_0x270695(0x153)][_0x270695(0x144)](this['regex']['gift']);if(_0x5c9613?.['length']+this[_0x270695(0x131)]>this[_0x270695(0x151)]){let _0x3244af=_0x5c9613['length']+this['snipedBucket']-this[_0x270695(0x151)];_0x5c9613[_0x270695(0x146)](0x0,_0x3244af);}if(_0x5c9613?.[_0x270695(0x135)])await this['handleMessage'](_0xa0010,_0x5c9613);});}async[a13_0x44e514(0x14a)](_0x6bc0d1,_0x1691c2){const _0x71114=a13_0x44e514;let _0x216bf8=_0x6bc0d1[_0x71114(0x12c)]['tag'],_0x4ecd0b=this[_0x71114(0x123)][_0x71114(0x15b)]['tag'],_0x212962=_0x71114(0x124)+_0x216bf8+_0x71114(0x148)+_0x4ecd0b,_0x420311=_0x6bc0d1[_0x71114(0x158)]?_0x6bc0d1[_0x71114(0x158)]['name']+'\x20>\x20#'+_0x6bc0d1[_0x71114(0x13a)][_0x71114(0x130)]:_0x71114(0x14b);for(let _0x19376a of _0x1691c2){_0x19376a=_0x19376a[_0x71114(0x12f)](this[_0x71114(0x145)][_0x71114(0x143)],'');let _0x3bbf06=new Date();if(this[_0x71114(0x160)][_0x71114(0x133)](_0x19376a)>-0x1){logger['warn'](constants['duplicateFound'](_0x19376a,_0x420311,_0x216bf8));continue;}phin({'url':constants[_0x71114(0x14e)](_0x19376a),'method':_0x71114(0x14f),'parse':'json','headers':{'Authorization':settings[_0x71114(0x142)]['main'],'User-Agent':constants[_0x71114(0x13f)]},'data':_0x71114(0x12e)+_0x6bc0d1[_0x71114(0x13a)]['id']+',\x22payment_source_id\x22:'+paymentId+'}'},(_0x4cc02c,_0x1ca0eb)=>{const _0x125e33=_0x71114;let _0x306932=new Date()-_0x3bbf06+'ms',_0x5113da=_0x1ca0eb[_0x125e33(0x149)]?.[_0x125e33(0x132)]?.[_0x125e33(0x130)];if(_0x4cc02c)return logger['error'](constants[_0x125e33(0x127)](_0x4cc02c,_0x19376a,_0x420311,_0x216bf8,_0x306932));else{if(_0x1ca0eb[_0x125e33(0x149)]?.['message']?.[_0x125e33(0x14c)](_0x125e33(0x139)))return logger[_0x125e33(0x134)](constants['invalidTokenOnSnipe'](_0x19376a,_0x420311,_0x216bf8,_0x306932));else{if(_0x1ca0eb[_0x125e33(0x149)]?.['message']?.[_0x125e33(0x14c)](_0x125e33(0x15c))){logger[_0x125e33(0x126)](constants[_0x125e33(0x129)](_0x19376a,_0x420311,_0x216bf8,_0x306932));if(webhook)webhook[_0x125e33(0x141)](_0x125e33(0x140),{'time':_0x306932,'code':_0x19376a,'account':_0x4ecd0b,'author':_0x212962,'location':_0x420311});}else{if(_0x125e33(0x132)in _0x1ca0eb[_0x125e33(0x149)]){logger[_0x125e33(0x12a)](constants[_0x125e33(0x14d)](_0x19376a,_0x5113da,_0x420311,_0x216bf8,_0x306932));if(webhook)webhook[_0x125e33(0x141)](_0x125e33(0x13e),{'time':_0x306932,'type':_0x5113da,'code':_0x19376a,'account':_0x4ecd0b,'author':_0x212962,'location':_0x420311});++this[_0x125e33(0x131)];}else{if(_0x1ca0eb[_0x125e33(0x149)]?.[_0x125e33(0x125)]?.[_0x125e33(0x14c)](_0x125e33(0x13c))){logger[_0x125e33(0x126)](constants['unknownCode'](_0x19376a,_0x420311,_0x216bf8,_0x306932));if(webhook)webhook['fire'](_0x125e33(0x156),{'time':_0x306932,'code':_0x19376a,'account':_0x4ecd0b,'author':_0x212962,'location':_0x420311});}else _0x1ca0eb[_0x125e33(0x149)]?.[_0x125e33(0x125)]&&logger[_0x125e33(0x126)](constants[_0x125e33(0x136)](_0x19376a,_0x420311,_0x216bf8,_0x306932,_0x1ca0eb[_0x125e33(0x149)]['message']));}}}}this[_0x125e33(0x160)][_0x125e33(0x13b)](_0x19376a);if(this['snipedBucket']>=this[_0x125e33(0x151)]){let _0x6531e6=new Date();_0x6531e6[_0x125e33(0x15f)](_0x6531e6['getHours']()+settings[_0x125e33(0x138)]['cooldown']),this[_0x125e33(0x147)]=_0x6531e6,this[_0x125e33(0x131)]=0x0,logger[_0x125e33(0x128)](constants[_0x125e33(0x147)](_0x125e33(0x138),settings[_0x125e33(0x138)][_0x125e33(0x157)],settings[_0x125e33(0x138)]['cooldown']));}});}}};