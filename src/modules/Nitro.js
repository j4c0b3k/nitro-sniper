const a13_0x496b=['\x20â€¢\x20Account:\x20','duplicateFound','regex','phin','handleMessage','content','19YjUZqR','setHours','success','redeemed\x20already','userAgent','cooldown','client','indexOf','critical','body','user','snipedBucket','stats','tokens','splice','Unknown','{\x22channel_id\x22:','warn','includes','542023vlqFaT','codeSuccess','cache','error','950434DyIoMy','\x20>\x20#','tag','unknownCode','codeInvalid','931004LpbfMP','length','prependListener','unknownResponse','snipedCode','1HwbbUc','exports','1020364eVxIuS','invalidTokenOnSnipe','nitro','9kTTzrL','name','message','unpromisified','bucket','getHours','1326502UbIKDW','json','main','push','Unauthorized','fire','subscription_plan','gift','guild','max','channel',',\x22payment_source_id\x22:','redeemCodeURL','27215WcfHEe','POST','37316uhalxp'];const a13_0x114a=function(_0x27466e,_0x2ea986){_0x27466e=_0x27466e-0x107;let _0x496bcd=a13_0x496b[_0x27466e];return _0x496bcd;};const a13_0xd620cb=a13_0x114a;(function(_0x30a982,_0xd03092){const _0x297058=a13_0x114a;while(!![]){try{const _0x314a4a=parseInt(_0x297058(0x145))+-parseInt(_0x297058(0x13c))+parseInt(_0x297058(0x12c))*parseInt(_0x297058(0x13a))+-parseInt(_0x297058(0x135))+parseInt(_0x297058(0x13f))*parseInt(_0x297058(0x112))+parseInt(_0x297058(0x119))*-parseInt(_0x297058(0x110))+parseInt(_0x297058(0x130));if(_0x314a4a===_0xd03092)break;else _0x30a982['push'](_0x30a982['shift']());}catch(_0x37579b){_0x30a982['push'](_0x30a982['shift']());}}}(a13_0x496b,0xa790e));const phin=require(a13_0xd620cb(0x116))[a13_0xd620cb(0x142)];module[a13_0xd620cb(0x13b)]=class Sniper{constructor(_0x20e67a){const _0x5ba537=a13_0xd620cb;this[_0x5ba537(0x11f)]=_0x20e67a,this[_0x5ba537(0x115)]={'gift':/(discord.gift|discord.com|discordapp.com\/gifts)\/\w{16,25}/gim,'url':/(discord\.gift\/|discord\.com\/gifts\/|discordapp\.com\/gifts\/)/gim},this[_0x5ba537(0x125)]={'invalid':0x0,'redeemed':0x0,'sniped':0x0},this[_0x5ba537(0x11e)]=null,this[_0x5ba537(0x124)]=0x0,this['bucket']=settings[_0x5ba537(0x13e)][_0x5ba537(0x10c)],this['cache']=[];}async['init'](){const _0x320941=a13_0xd620cb;this[_0x320941(0x11f)][_0x320941(0x137)](_0x320941(0x141),async _0xe7e210=>{const _0x24ccd0=_0x320941;if(this[_0x24ccd0(0x11e)]&&this[_0x24ccd0(0x11e)]>new Date())return;this['cooldown']=null;let _0x4c9d42=_0xe7e210[_0x24ccd0(0x118)]['match'](this[_0x24ccd0(0x115)][_0x24ccd0(0x10a)]);if(_0x4c9d42?.['length']+this[_0x24ccd0(0x124)]>this[_0x24ccd0(0x143)]){let _0x3fa78d=_0x4c9d42[_0x24ccd0(0x136)]+this[_0x24ccd0(0x124)]-this[_0x24ccd0(0x143)];_0x4c9d42[_0x24ccd0(0x127)](0x0,_0x3fa78d);}if(_0x4c9d42?.[_0x24ccd0(0x136)])await this[_0x24ccd0(0x117)](_0xe7e210,_0x4c9d42);});}async[a13_0xd620cb(0x117)](_0x38ced1,_0xc5d1ff){const _0x1b342b=a13_0xd620cb;let _0x5200d0=_0x38ced1['author'][_0x1b342b(0x132)],_0x1b597e=this['client'][_0x1b342b(0x123)]['tag'],_0x241fb2='Author:\x20'+_0x5200d0+_0x1b342b(0x113)+_0x1b597e,_0x3b973e=_0x38ced1[_0x1b342b(0x10b)]?_0x38ced1[_0x1b342b(0x10b)]['name']+_0x1b342b(0x131)+_0x38ced1[_0x1b342b(0x10d)][_0x1b342b(0x140)]:'DMs';for(let _0x54e660 of _0xc5d1ff){_0x54e660=_0x54e660['replace'](this['regex']['url'],'');let _0x446d24=new Date();if(this[_0x1b342b(0x12e)][_0x1b342b(0x120)](_0x54e660)>-0x1){logger['warn'](constants[_0x1b342b(0x114)](_0x54e660,_0x3b973e,_0x5200d0));continue;}phin({'url':constants[_0x1b342b(0x10f)](_0x54e660),'method':_0x1b342b(0x111),'parse':_0x1b342b(0x146),'headers':{'Authorization':settings[_0x1b342b(0x126)][_0x1b342b(0x147)],'User-Agent':constants[_0x1b342b(0x11d)]},'data':_0x1b342b(0x129)+_0x38ced1['channel']['id']+_0x1b342b(0x10e)+paymentId+'}'},(_0x4e326d,_0x431a42)=>{const _0x532d5b=_0x1b342b;let _0x11dade=new Date()-_0x446d24+'ms',_0x35823d=_0x431a42['body']?.[_0x532d5b(0x109)]?.[_0x532d5b(0x140)];if(_0x4e326d)return logger[_0x532d5b(0x12f)](constants['phinError'](_0x4e326d,_0x54e660,_0x3b973e,_0x5200d0,_0x11dade));else{if(_0x431a42[_0x532d5b(0x122)]?.[_0x532d5b(0x141)]?.['includes'](_0x532d5b(0x107)))return logger[_0x532d5b(0x121)](constants[_0x532d5b(0x13d)](_0x54e660,_0x3b973e,_0x5200d0,_0x11dade));else{if(_0x431a42[_0x532d5b(0x122)]?.[_0x532d5b(0x141)]?.['includes'](_0x532d5b(0x11c))){logger[_0x532d5b(0x12f)](constants['alreadyRedeemedCode'](_0x54e660,_0x3b973e,_0x5200d0,_0x11dade));if(webhook)webhook[_0x532d5b(0x108)]('codeAlreadyRedeemed',{'time':_0x11dade,'code':_0x54e660,'account':_0x1b597e,'author':_0x241fb2,'location':_0x3b973e});}else{if('subscription_plan'in _0x431a42[_0x532d5b(0x122)]){logger[_0x532d5b(0x11b)](constants[_0x532d5b(0x139)](_0x54e660,_0x35823d,_0x3b973e,_0x5200d0,_0x11dade));if(webhook)webhook['fire'](_0x532d5b(0x12d),{'time':_0x11dade,'type':_0x35823d,'code':_0x54e660,'account':_0x1b597e,'author':_0x241fb2,'location':_0x3b973e});++this['snipedBucket'];}else{if(_0x431a42['body']?.[_0x532d5b(0x141)]?.[_0x532d5b(0x12b)](_0x532d5b(0x128))){logger[_0x532d5b(0x12f)](constants[_0x532d5b(0x133)](_0x54e660,_0x3b973e,_0x5200d0,_0x11dade));if(webhook)webhook[_0x532d5b(0x108)](_0x532d5b(0x134),{'time':_0x11dade,'code':_0x54e660,'account':_0x1b597e,'author':_0x241fb2,'location':_0x3b973e});}else _0x431a42[_0x532d5b(0x122)]?.[_0x532d5b(0x141)]&&logger[_0x532d5b(0x12f)](constants[_0x532d5b(0x138)](_0x54e660,_0x3b973e,_0x5200d0,_0x11dade,_0x431a42['body'][_0x532d5b(0x141)]));}}}}this['cache'][_0x532d5b(0x148)](_0x54e660);if(this[_0x532d5b(0x124)]>=this[_0x532d5b(0x143)]){let _0x7b0615=new Date();_0x7b0615[_0x532d5b(0x11a)](_0x7b0615[_0x532d5b(0x144)]()+settings[_0x532d5b(0x13e)][_0x532d5b(0x11e)]),this[_0x532d5b(0x11e)]=_0x7b0615,this['snipedBucket']=0x0,logger[_0x532d5b(0x12a)](constants[_0x532d5b(0x11e)]('nitro',settings[_0x532d5b(0x13e)]['max'],settings[_0x532d5b(0x13e)]['cooldown']));}});}}};