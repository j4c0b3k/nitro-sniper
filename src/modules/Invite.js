const a12_0x3243=['name','client','url','cooldown','\x20>\x20#','275043njJNUy','enabled','regex','inviteFetchURL','find','catch','cache','635AITTlk','guilds','joinedBucket','userAgent','filter','Author:\x20','success','GET','tag','size','length','replace','invite','543977pWBOQT','5866WedsAd','max','token','json','DMs','684556FpZFiF','message','join','min','code','114106rrTihQ','joinedServer','guild','223579CXWdLB','130hsWwSe','1035fstviT','toFixed','1RbpIOn','bucket','splice','exports','POST','\x20seconds','approximate_member_count','inviteJoin','push','map','1BuRmTd','body'];const a12_0x40d5=function(_0x5d1bb1,_0x4f70b1){_0x5d1bb1=_0x5d1bb1-0x6d;let _0x3243f8=a12_0x3243[_0x5d1bb1];return _0x3243f8;};const a12_0x3ad6c0=a12_0x40d5;(function(_0x4d9fc5,_0xb02e93){const _0x476253=a12_0x40d5;while(!![]){try{const _0x2687aa=-parseInt(_0x476253(0x94))+parseInt(_0x476253(0x7a))+parseInt(_0x476253(0x8e))+-parseInt(_0x476253(0x9c))*-parseInt(_0x476253(0xa0))+-parseInt(_0x476253(0x73))*-parseInt(_0x476253(0x99))+parseInt(_0x476253(0x81))*-parseInt(_0x476253(0x9e))+-parseInt(_0x476253(0x8f))*-parseInt(_0x476253(0x9d));if(_0x2687aa===_0xb02e93)break;else _0x4d9fc5['push'](_0x4d9fc5['shift']());}catch(_0x11786e){_0x4d9fc5['push'](_0x4d9fc5['shift']());}}}(a12_0x3243,0x8cfe0));const phin=require('phin');module[a12_0x3ad6c0(0xa3)]=class Invite{constructor(_0x11965d){const _0x2a81b2=a12_0x3ad6c0;this[_0x2a81b2(0x76)]=_0x11965d,this['regex']={'invite':/discord(?:\.com|app\.com|\.gg)(\/invite\/|\/)(?:[a-zA-Z0-9\-]{2,32})/gim,'url':/(discord.gg\/|discord.com\/invite\/|discordapp.com\/invite\/)/gim},this['cooldown']=null,this[_0x2a81b2(0x83)]=0x0,this[_0x2a81b2(0xa1)]=settings[_0x2a81b2(0x8d)][_0x2a81b2(0x90)],this[_0x2a81b2(0x80)]=[];}['init'](){const _0x8276e2=a12_0x3ad6c0;if(!settings[_0x8276e2(0x8d)][_0x8276e2(0x7b)])return;this[_0x8276e2(0x76)]['on'](_0x8276e2(0x95),_0x2d018b=>{const _0x37d01e=_0x8276e2;if(this[_0x37d01e(0x78)]&&this['cooldown']>new Date())return;this[_0x37d01e(0x78)]=null;let _0x97207a=_0x2d018b['content']['match'](this[_0x37d01e(0x7c)][_0x37d01e(0x8d)]);if(_0x97207a?.[_0x37d01e(0x8b)]+this[_0x37d01e(0x83)]>this[_0x37d01e(0xa1)]){let _0x12778c=_0x97207a[_0x37d01e(0x8b)]+this['joinedBucket']-this['bucket'];_0x97207a[_0x37d01e(0xa2)](0x0,_0x12778c);}if(_0x97207a?.[_0x37d01e(0x8b)])return this[_0x37d01e(0x96)](_0x2d018b,_0x97207a[_0x37d01e(0x72)](_0x4c28b1=>_0x4c28b1[_0x37d01e(0x8c)](this[_0x37d01e(0x7c)][_0x37d01e(0x77)],''))[_0x37d01e(0x85)](_0x518938=>!this[_0x37d01e(0x80)]['includes'](_0x518938)));});}async[a12_0x3ad6c0(0x96)](_0x1cefbc,_0x5f2808){const _0x272694=a12_0x3ad6c0;let _0x2ea8df={'Authorization':this['client'][_0x272694(0x91)],'X-Super-Properties':constants['xSuperProperties'],'X-Context-Properties':constants['xContextProperties'],'User-Agent':constants[_0x272694(0x84)]},_0x51b8f3=_0x1cefbc['author'][_0x272694(0x89)],_0x45e655=this[_0x272694(0x76)]['user'][_0x272694(0x89)],_0x143ff6=_0x272694(0x86)+_0x51b8f3+'\x20â€¢\x20Account:\x20'+_0x45e655,_0x25d938=_0x1cefbc[_0x272694(0x9b)]?_0x1cefbc['guild']['name']+_0x272694(0x79)+_0x1cefbc['channel'][_0x272694(0x75)]:_0x272694(0x93);for(const _0x1eeced of _0x5f2808){if(this[_0x272694(0x76)][_0x272694(0x82)][_0x272694(0x80)][_0x272694(0x8a)]>=0x64)break;const {invite:{delay:{min:_0x29f7b5,max:_0x5a5746}}}=settings;let _0x39ed54=util['randomInt'](_0x29f7b5*0x3e8,_0x5a5746*0x3e8),_0xba2cbf=(_0x39ed54%0xea60/0x3e8)[_0x272694(0x9f)](0x0)+_0x272694(0x6e);await util['sleep'](_0x39ed54);let _0x1c0df4=await phin({'url':constants[_0x272694(0x7d)](_0x1eeced),'method':_0x272694(0x88),'headers':_0x2ea8df,'parse':_0x272694(0x92)})[_0x272694(0x7f)](()=>null);if(!_0x1c0df4?.[_0x272694(0x74)]?.['approximate_member_count'])continue;let _0x649ed4=_0x1c0df4[_0x272694(0x74)];this['cache'][_0x272694(0x71)](_0x649ed4[_0x272694(0x98)]);if(_0x649ed4[_0x272694(0x6f)]>=settings[_0x272694(0x8d)][_0x272694(0x97)]&&_0x649ed4['approximate_member_count']<=settings[_0x272694(0x8d)][_0x272694(0x90)])continue;if(this[_0x272694(0x76)][_0x272694(0x82)][_0x272694(0x80)][_0x272694(0x7e)](_0x5b04ec=>_0x5b04ec['id']==_0x649ed4[_0x272694(0x9b)]['id']))continue;let _0x1dd075=await phin({'url':constants['joinURL'](_0x649ed4['code']),'method':_0x272694(0x6d),'headers':_0x2ea8df,'parse':_0x272694(0x92)})[_0x272694(0x7f)](()=>null);if(_0x1dd075?.[_0x272694(0x74)]?.[_0x272694(0x9b)]){if(webhook)webhook['fire'](_0x272694(0x70),{'invite':_0x649ed4[_0x272694(0x98)],'server':_0x649ed4[_0x272694(0x9b)][_0x272694(0x75)],'author':_0x143ff6,'location':_0x25d938,'timeTook':_0xba2cbf});logger[_0x272694(0x87)](constants[_0x272694(0x9a)](_0x649ed4[_0x272694(0x98)],_0x649ed4[_0x272694(0x9b)][_0x272694(0x75)],_0x25d938,_0x51b8f3,_0x45e655,_0xba2cbf)),++this[_0x272694(0x83)];}}if(this[_0x272694(0x83)]>=this[_0x272694(0xa1)]){let _0x3b30c1=new Date();_0x3b30c1['setHours'](_0x3b30c1['getHours']()+settings[_0x272694(0x8d)]['cooldown']),this[_0x272694(0x78)]=_0x3b30c1,this[_0x272694(0x83)]=0x0,logger['warn'](constants[_0x272694(0x78)](_0x272694(0x8d),settings['invite'][_0x272694(0x90)],settings[_0x272694(0x8d)][_0x272694(0x78)]));}}};