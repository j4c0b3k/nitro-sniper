const a11_0xfc69=['length','guild','randomInt','match','regex','dmMessage','12241tiXkgF','get','1lRbomS','message','giveaway','catch','fire','toLowerCase','description','messageLink','handleGiveawayStart','includes','3849celpmq','3RkLwbn','content','dmHosterFail','containsAny','reactedGiveaway','10133OhdFkd','first','type','giveawayEntered','**GIVEAWAY**','handleGiveawayWin','name','embeds','channel','map','49qEPtVL','dmHosterSuccess','success','error','\x20â€¢\x20Account:\x20','text',':yay:','users','giveawayWin','cache','280143IQaVGZ','split','congratulations','443851hlshBQ','replace','\x20seconds','Author:\x20','370193sKGKAt','fetch','author','109PsOTAL','user','tag','379146ZoEKRK','client'];const a11_0x4294=function(_0x130e02,_0x2a160c){_0x130e02=_0x130e02-0x84;let _0xfc699=a11_0xfc69[_0x130e02];return _0xfc699;};const a11_0x33eca4=a11_0x4294;(function(_0x5071cb,_0x34aef5){const _0x316fa5=a11_0x4294;while(!![]){try{const _0x2ce06f=-parseInt(_0x316fa5(0x9a))*-parseInt(_0x316fa5(0x86))+parseInt(_0x316fa5(0xa4))*-parseInt(_0x316fa5(0xb4))+-parseInt(_0x316fa5(0x98))*parseInt(_0x316fa5(0xa5))+-parseInt(_0x316fa5(0x90))+-parseInt(_0x316fa5(0xbe))+-parseInt(_0x316fa5(0x8a))+parseInt(_0x316fa5(0x8d))*parseInt(_0x316fa5(0xaa));if(_0x2ce06f===_0x34aef5)break;else _0x5071cb['push'](_0x5071cb['shift']());}catch(_0x27968e){_0x5071cb['push'](_0x5071cb['shift']());}}}(a11_0xfc69,0x47aa6),module['exports']=class Giveaway{constructor(_0x507051){const _0x325f08=a11_0x4294;this[_0x325f08(0x91)]=_0x507051,this[_0x325f08(0x96)]={'messageLink':/https:\/\/(canary.|ptb.|)discord(|app).com\/channels\/([0-9]+)\/([0-9]+)\/([0-9]+)/gim};}async['init'](){const _0x5603ae=a11_0x4294,{giveaway:{enabled:_0x410467,delay:_0x4a1725,whitelistOnly:_0x3539df,whitelistedWords:_0x14f396,blacklistedWords:_0x4880c6,blacklistedServers:_0x37d069}}=settings;if(!_0x410467)return;this['client']['on'](_0x5603ae(0x9b),async _0x3de0f0=>{const _0x110e48=_0x5603ae;if(_0x3de0f0['channel'][_0x110e48(0xac)]!==_0x110e48(0xb9))return;if(_0x37d069[_0x110e48(0xa3)](_0x3de0f0['guild']['id']))return;if(_0x3de0f0[_0x110e48(0xa6)][_0x110e48(0xa3)](_0x110e48(0xae))&&_0x3de0f0[_0x110e48(0xa6)][_0x110e48(0xa3)](_0x110e48(0xba))){let _0xe562a6=_0x3de0f0[_0x110e48(0xb1)][0x0];if(!_0xe562a6)return;let _0x5c2397=_0xe562a6[_0x110e48(0x8c)]?.[_0x110e48(0xb0)],_0x2e1e24=_0xe562a6[_0x110e48(0xa0)]?.[_0x110e48(0x87)](/\r/g,'')?.[_0x110e48(0x84)]('\x0a')[0x2]?.[_0x110e48(0x95)](/[0-9]{17,20}/gim)[0x0];if(!_0x2e1e24)return;let _0x34f546=await this['client'][_0x110e48(0xbb)][_0x110e48(0x8b)](_0x2e1e24)[_0x110e48(0x9d)](()=>null);if(!_0x34f546)return;_0x2e1e24=this[_0x110e48(0x91)][_0x110e48(0xbb)][_0x110e48(0xbd)][_0x110e48(0x99)](_0x2e1e24);if(!_0x2e1e24)return;if(_0x3539df){let _0x21f054=_0x5c2397[_0x110e48(0x9f)]()[_0x110e48(0xa8)](_0x14f396[_0x110e48(0xb3)](_0x40e5ad=>String(_0x40e5ad)[_0x110e48(0x9f)]()));if(!_0x21f054)return;}let _0x3e0adf=_0x5c2397[_0x110e48(0x9f)]()[_0x110e48(0xa8)](_0x4880c6[_0x110e48(0xb3)](_0x5eaf6f=>String(_0x5eaf6f)[_0x110e48(0x9f)]()));if(_0x3e0adf)return;return await this[_0x110e48(0xa2)](_0x3de0f0,_0x4a1725*0x3e8,_0x5c2397,_0x2e1e24);}}),this[_0x5603ae(0x91)]['on'](_0x5603ae(0x9b),async _0x4c31bd=>{const _0x1c65bb=_0x5603ae;if(_0x4c31bd[_0x1c65bb(0xb2)][_0x1c65bb(0xac)]!==_0x1c65bb(0xb9)||!_0x4c31bd['author']['bot'])return;if(!(_0x4c31bd['content']['toLowerCase']()[_0x1c65bb(0xa3)](_0x1c65bb(0x85))&&_0x4c31bd[_0x1c65bb(0xa6)][_0x1c65bb(0x9f)]()[_0x1c65bb(0xa3)]('<@'+this[_0x1c65bb(0x91)][_0x1c65bb(0x8e)]['id']+'>')))return;let _0x57e51c=_0x4c31bd[_0x1c65bb(0xa6)][_0x1c65bb(0x95)](this['regex'][_0x1c65bb(0xa1)]);if(!_0x57e51c||!_0x57e51c[_0x1c65bb(0x92)])return;let _0x2aa614=_0x57e51c[0x0]?.['split']('/')[0x6],_0x3eec3a=await _0x4c31bd['channel']['messages'][_0x1c65bb(0x8b)]({'limit':0x1,'around':_0x2aa614})['then'](_0x320dd6=>_0x320dd6[_0x1c65bb(0xab)]())[_0x1c65bb(0x9d)](()=>null);if(!_0x3eec3a)return;let _0x4e25c4=_0x3eec3a[_0x1c65bb(0xb1)][0x0];if(!_0x4e25c4)return;let _0x59a1f5=_0x4e25c4[_0x1c65bb(0x8c)]?.[_0x1c65bb(0xb0)],_0x161fc9=_0x4e25c4[_0x1c65bb(0xa0)]?.[_0x1c65bb(0x87)](/\r/g,'')?.[_0x1c65bb(0x84)]('\x0a'),_0x137500=_0x161fc9[_0x161fc9['length']-0x1]?.[_0x1c65bb(0x95)](/[0-9]{17,20}/gim)[0x0];if(!_0x137500)return;let _0x47125b=await this['client'][_0x1c65bb(0xbb)][_0x1c65bb(0x8b)](_0x137500)[_0x1c65bb(0x9d)](()=>null);if(!_0x47125b)return;_0x137500=this[_0x1c65bb(0x91)]['users'][_0x1c65bb(0xbd)][_0x1c65bb(0x99)](_0x137500);if(!_0x137500)return;return await this[_0x1c65bb(0xaf)](_0x4c31bd,_0x137500,_0x59a1f5);});}async[a11_0x33eca4(0xa2)](_0x346825,_0x14a54a,_0x3c721e,_0x3af24d){const _0x4e409b=a11_0x33eca4;let _0x3cfb72=_0x4e409b(0x89)+_0x346825['author'][_0x4e409b(0x8f)]+_0x4e409b(0xb8)+this['client'][_0x4e409b(0x8e)][_0x4e409b(0x8f)],_0x250a1e=util[_0x4e409b(0x94)](_0x14a54a,_0x14a54a*1.5),_0xee2e62=await new Promise(_0x402e9c=>{setTimeout(async()=>{try{await _0x346825['react']('ðŸŽ‰'),_0x402e9c(!![]);}catch{_0x402e9c(![]);}},_0x250a1e);}),_0x4bd824=(_0x250a1e%0xea60/0x3e8)['toFixed'](0x0)+_0x4e409b(0x88);if(!_0xee2e62)return logger[_0x4e409b(0xb7)](constants['failedGiveawayReact'](_0x3c721e,_0x3af24d,_0x346825[_0x4e409b(0x93)][_0x4e409b(0xb0)],_0x346825[_0x4e409b(0xb2)]['name'],_0x4bd824));else{logger['success'](constants[_0x4e409b(0xa9)](_0x3c721e,_0x3af24d['tag'],_0x346825[_0x4e409b(0x93)][_0x4e409b(0xb0)],_0x346825[_0x4e409b(0xb2)][_0x4e409b(0xb0)],_0x4bd824));if(webhook)return webhook[_0x4e409b(0x9e)](_0x4e409b(0xad),{'server':_0x346825[_0x4e409b(0x93)][_0x4e409b(0xb0)],'channel':_0x346825[_0x4e409b(0xb2)][_0x4e409b(0xb0)],'timeTook':_0x4bd824,'prize':_0x3c721e,'author':_0x3cfb72});}}async[a11_0x33eca4(0xaf)](_0x2b99ba,_0x1485e0,_0xc70ee9){const _0x3b9173=a11_0x33eca4;let _0x364e16='Author:\x20'+_0x2b99ba[_0x3b9173(0x8c)][_0x3b9173(0x8f)]+'\x20â€¢\x20Account:\x20'+this['client'][_0x3b9173(0x8e)]['tag'];logger[_0x3b9173(0xb6)](constants['giveawayWon'](_0xc70ee9,_0x1485e0[_0x3b9173(0x8f)],_0x2b99ba[_0x3b9173(0x93)][_0x3b9173(0xb0)],_0x2b99ba[_0x3b9173(0xb2)]['name']));if(webhook)webhook[_0x3b9173(0x9e)](_0x3b9173(0xbc),{'server':_0x2b99ba[_0x3b9173(0x93)]['name'],'channel':_0x2b99ba[_0x3b9173(0xb2)][_0x3b9173(0xb0)],'prize':_0xc70ee9,'author':_0x364e16});if(settings[_0x3b9173(0x9c)]['dm']){const {giveaway:{dmDelay:_0xe88e6}}=settings;let _0x36e53e=_0xe88e6*0x3e8,_0x5c73aa=util[_0x3b9173(0x94)](_0x36e53e,_0x36e53e*1.5),_0x3dc1b1=(_0x5c73aa%0xea60/0x3e8)['toFixed'](0x0)+_0x3b9173(0x88),_0x1fa971=await new Promise(async _0x31a97e=>{setTimeout(async()=>{const _0x5326da=a11_0x4294;try{await _0x1485e0['send'](settings[_0x5326da(0x9c)][_0x5326da(0x97)]),_0x31a97e(!![]);}catch{_0x31a97e(![]);}},_0x5c73aa);});_0x1fa971?logger[_0x3b9173(0xb6)](constants[_0x3b9173(0xb5)](_0x1485e0['tag'],_0xc70ee9,_0x2b99ba[_0x3b9173(0x93)][_0x3b9173(0xb0)],_0x2b99ba[_0x3b9173(0xb2)]['name'],_0x3dc1b1)):logger[_0x3b9173(0xb7)](constants[_0x3b9173(0xa7)](_0x1485e0['tag'],_0xc70ee9,_0x2b99ba[_0x3b9173(0x93)]['name'],_0x2b99ba[_0x3b9173(0xb2)][_0x3b9173(0xb0)],_0x3dc1b1));}}});